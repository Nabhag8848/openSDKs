{"openapi":"3.1.0","info":{"title":"Payment V2 Base URL","version":"2"},"servers":[{"url":"https://{environment}.onebrick.io/v2/payments/gs","variables":{"environment":{"default":"environment"}}}],"components":{"securitySchemes":{"sec0":{"type":"http","scheme":"basic"}}},"security":[{"sec0":[]}],"paths":{"/ledger":{"get":{"summary":"Ledger / Disbursement History","description":"This API enable you to get transactions from certain interval and do transaction reconciliation in real time","operationId":"ledger-api","parameters":[{"name":"publicAccessToken","in":"header","description":"Unique Identifier for Client(Public access token), It should be called with bearer","required":true,"schema":{"type":"string"}},{"name":"startDate","in":"query","description":"From when the transaction should be retrieved. Format is YYYY-MM-DD","schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","description":"Until when the transaction should be retrieved. format is YYYY-MM-DD","schema":{"type":"string","format":"date"}},{"name":"status","in":"query","description":"Status of transaction. either completed or processing or pending or failed. always lower case","schema":{"type":"string"}},{"name":"search","in":"query","description":"Look for specific transaction ID or referenceId","schema":{"type":"string"}},{"name":"page","in":"query","description":"Which page of the data should be retrieved","schema":{"type":"integer","format":"int32"}},{"name":"size","in":"query","description":"how many records need to be retrieved per page. Maximum record is 2000 & default is 100 per page","schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"status\": 200,\n    \"data\": {\n        \"message\": \"We are successfully able to get the data\",\n        \"transactions\": [\n            {\n                \"refId\": \"ref-1\",\n                \"date\": \"2022-10-03T15:17:44.000+07:00\",\n                \"accountHolderName\": \"test-123\",\n                \"accountNumber\": \"12345678\",\n                \"bankName\": \"Bank Artos Indonesia\",\n                \"description\": \"Demo-1\",\n                \"amount\": 20000,\n                \"fees\": 4500,\n                \"status\": \"completed\"\n            },{\n                \"refId\": \"ref-id123\",\n                \"date\": \"2022-11-03T15:17:44.000+07:00\",\n                \"accountHolderName\": \"test-123\",\n                \"accountNumber\": \"12345678\",\n                \"bankName\": \"Bank Artos Indonesia\",\n                \"description\": \"Demo-2\",\n                \"amount\": 20000,\n                \"fees\": 4500,\n                \"status\": \"completed\"\n            }\n        ]\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"error\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":200,"default":0},"data":{"type":"object","properties":{"message":{"type":"string","example":"We are successfully able to get the data"},"transactions":{"type":"array","items":{"type":"object","properties":{"refId":{"type":"string","example":"ref-1"},"date":{"type":"string","example":"2022-10-03T15:17:44.000+07:00"},"accountHolderName":{"type":"string","example":"test-123"},"accountNumber":{"type":"string","example":"12345678"},"bankName":{"type":"string","example":"Bank Artos Indonesia"},"description":{"type":"string","example":"Demo-1"},"amount":{"type":"integer","example":20000,"default":0},"fees":{"type":"integer","example":4500,"default":0},"status":{"type":"string","example":"completed"}}}}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"error":{}}}}}},"401":{"description":"401","content":{"application/json":{"examples":{"invalid token":{"value":"{\n    \"status\": 401,\n    \"error\": {\n        \"code\": \"invalid_parameters_in_headers\",\n        \"message\": \"Please use valid Public_access_token in headers\",\n        \"action\": \"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team\",\n        \"reason\": \"Invalid public_access_token in headers\"\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"data\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":401,"default":0},"error":{"type":"object","properties":{"code":{"type":"string","example":"invalid_parameters_in_headers"},"message":{"type":"string","example":"Please use valid Public_access_token in headers"},"action":{"type":"string","example":"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team"},"reason":{"type":"string","example":"Invalid public_access_token in headers"}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"data":{}}}}}}},"deprecated":false,"security":[],"x-readme":{"code-samples":[{"language":"curl","code":"curl --location --request GET 'https://api.onebrick.io/v2/payments/gs/ledger?page=1&size=2000&startDate=2022-10-03&endDate=2022-10-04&status=completed' \\\n--header 'publicAccessToken: Bearer {publicAccessToken}'"}],"samples-languages":["curl"]}}},"/disbursements/transaction?referenceId={{referenceId}}":{"get":{"summary":"Get Disbursement using Reference ID From Client","description":"This API enables you to check the transaction status before and after created using Reference ID given by Client","operationId":"retrieve-disbursement-using","parameters":[{"name":"publicAccessToken","in":"header","description":"Unique Identifier for Client(Public access token), It should be called with bearer","required":true,"schema":{"type":"string"}},{"name":"referenceId","in":"query","description":"Reference ID from given from Client Side","schema":{"type":"string"}}],"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"status\": 200,\n    \"data\": {\n        \"message\": \"We have successfuly retrieve your disbursement\",\n        \"id\": \"c8836b555a8842b2ac20fef1a\",\n        \"type\": \"disbursement\",\n        \"attributes\": {\n            \"referenceId\": \"182y1841\",\n            \"description\": \"Disbursement\",\n            \"amount\": \"29999\",\n            \"status\": \"failed\",\n            \"createdAt\": \"2030-12-22T10:12:08.000+07:00\",\n            \"disbursementMethod\": {\n                \"type\": \"bank_transfer\",\n                \"bankAccountNo\": \"78472\",\n                \"bankShortCode\": \"MANDIRI\",\n                \"bankAccountHolderName\": \"Test\",\n                \"bankName\": \"Bank Mandiri\"\n            },\n            \"errorCode\": \"\",\n            \"errorReason\": \"\"\n        }\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"error\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":200,"default":0},"data":{"type":"object","properties":{"message":{"type":"string","example":"We have successfuly retrieve your disbursement"},"id":{"type":"string","example":"c8836b555a8842b2ac20fef1a"},"type":{"type":"string","example":"disbursement"},"attributes":{"type":"object","properties":{"referenceId":{"type":"string","example":"182y1841"},"description":{"type":"string","example":"Disbursement"},"amount":{"type":"string","example":"29999"},"status":{"type":"string","example":"failed"},"createdAt":{"type":"string","example":"2030-12-22T10:12:08.000+07:00"},"disbursementMethod":{"type":"object","properties":{"type":{"type":"string","example":"bank_transfer"},"bankAccountNo":{"type":"string","example":"78472"},"bankShortCode":{"type":"string","example":"MANDIRI"},"bankAccountHolderName":{"type":"string","example":"Test"},"bankName":{"type":"string","example":"Bank Mandiri"}}},"errorCode":{"type":"string","example":""},"errorReason":{"type":"string","example":""}}}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"error":{}}}}}},"401":{"description":"401","content":{"application/json":{"examples":{"invalid token":{"value":"{\n    \"status\": 401,\n    \"error\": {\n        \"code\": \"invalid_parameters_in_headers\",\n        \"message\": \"Please use valid Public_access_token in headers\",\n        \"action\": \"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team\",\n        \"reason\": \"Invalid public_access_token in headers\"\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"data\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":401,"default":0},"error":{"type":"object","properties":{"code":{"type":"string","example":"invalid_parameters_in_headers"},"message":{"type":"string","example":"Please use valid Public_access_token in headers"},"action":{"type":"string","example":"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team"},"reason":{"type":"string","example":"Invalid public_access_token in headers"}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"data":{}}}}}}},"deprecated":false,"security":[],"x-readme":{"code-samples":[{"language":"curl","code":"curl --location -g --request GET 'https://{{base url}}/v2/payments/gs/disbursements/transaction?referenceId={{referenceId}}' \\\n--header 'publicAccessToken: Bearer public-access-token'"}],"samples-languages":["curl"]}}},"/balance":{"get":{"summary":"Account Balance","description":"This API enable you to check current balance of Brick Pay, Brick Flex & Total Available Balance","operationId":"current-balance-api","parameters":[{"name":"publicAccessToken","in":"header","description":"Unique Identifier for Client(Public access token), It should be called with bearer","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"status\": 200,\n    \"data\": {\n        \"brickPay\": {\n            \"balance\": 3000000\n        },\n        \"brickFlex\": {\n            \"balance\": 0\n        },\n        \"totalAvailableBalance\": 3000000\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"error\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":200,"default":0},"data":{"type":"object","properties":{"brickPay":{"type":"object","properties":{"balance":{"type":"integer","example":3000000,"default":0}}},"brickFlex":{"type":"object","properties":{"balance":{"type":"integer","example":0,"default":0}}},"totalAvailableBalance":{"type":"integer","example":3000000,"default":0}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"error":{}}}}}},"401":{"description":"401","content":{"application/json":{"examples":{"invalid token":{"value":"{\n    \"status\": 401,\n    \"error\": {\n        \"code\": \"invalid_parameters_in_headers\",\n        \"message\": \"Please use valid Public_access_token in headers\",\n        \"action\": \"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team\",\n        \"reason\": \"Invalid public_access_token in headers\"\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"data\": null\n}"},"token is expired":{"value":"{\n    \"status\": 401,\n    \"error\": {\n        \"code\": \"expired_parameters_in_headers\",\n        \"message\": \"Please use live publicAccessToken in headers\",\n        \"action\": \"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team\",\n        \"reason\": \"publicAccessToken is expired\"\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"data\": null\n}"}},"schema":{"oneOf":[{"title":"invalid token","type":"object","properties":{"status":{"type":"integer","example":401,"default":0},"error":{"type":"object","properties":{"code":{"type":"string","example":"invalid_parameters_in_headers"},"message":{"type":"string","example":"Please use valid Public_access_token in headers"},"action":{"type":"string","example":"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team"},"reason":{"type":"string","example":"Invalid public_access_token in headers"}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"data":{}}},{"title":"token is expired","type":"object","properties":{"status":{"type":"integer","example":401,"default":0},"error":{"type":"object","properties":{"code":{"type":"string","example":"expired_parameters_in_headers"},"message":{"type":"string","example":"Please use live publicAccessToken in headers"},"action":{"type":"string","example":"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team"},"reason":{"type":"string","example":"publicAccessToken is expired"}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"data":{}}}]}}}}},"deprecated":false,"security":[],"x-readme":{"code-samples":[{"language":"curl","code":"curl --location --request GET 'https://sandbox.onebrick.io/v2/payments/gs/balance' \\\n--header 'publicAccessToken: Bearer {publicAccessToken}'"}],"samples-languages":["curl"]}}},"/disbursements/transaction?referenceId={{referenceId}} (COPY)":{"get":{"summary":"Get Disbursement using Reference ID From Client","description":"This API enables you to check the transaction status before and after created using Reference ID given by Client","operationId":"get-disbursement-using-reference-id-from-client-copy","parameters":[{"name":"publicAccessToken","in":"header","description":"Unique Identifier for Client(Public access token), It should be called with bearer","required":true,"schema":{"type":"string"}},{"name":"referenceId","in":"query","description":"Reference ID from given from Client Side","schema":{"type":"string"}}],"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n    \"status\": 200,\n    \"data\": {\n        \"message\": \"We have successfuly retrieve your disbursement\",\n        \"id\": \"c8836b555a8842b2ac20fef1a\",\n        \"type\": \"disbursement\",\n        \"attributes\": {\n            \"referenceId\": \"182y1841\",\n            \"description\": \"Disbursement\",\n            \"amount\": \"29999\",\n            \"status\": \"failed\",\n            \"createdAt\": \"2030-12-22T10:12:08.000+07:00\",\n            \"disbursementMethod\": {\n                \"type\": \"bank_transfer\",\n                \"bankAccountNo\": \"78472\",\n                \"bankShortCode\": \"MANDIRI\",\n                \"bankAccountHolderName\": \"Test\",\n                \"bankName\": \"Bank Mandiri\"\n            },\n            \"errorCode\": \"\",\n            \"errorReason\": \"\"\n        }\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"error\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":200,"default":0},"data":{"type":"object","properties":{"message":{"type":"string","example":"We have successfuly retrieve your disbursement"},"id":{"type":"string","example":"c8836b555a8842b2ac20fef1a"},"type":{"type":"string","example":"disbursement"},"attributes":{"type":"object","properties":{"referenceId":{"type":"string","example":"182y1841"},"description":{"type":"string","example":"Disbursement"},"amount":{"type":"string","example":"29999"},"status":{"type":"string","example":"failed"},"createdAt":{"type":"string","example":"2030-12-22T10:12:08.000+07:00"},"disbursementMethod":{"type":"object","properties":{"type":{"type":"string","example":"bank_transfer"},"bankAccountNo":{"type":"string","example":"78472"},"bankShortCode":{"type":"string","example":"MANDIRI"},"bankAccountHolderName":{"type":"string","example":"Test"},"bankName":{"type":"string","example":"Bank Mandiri"}}},"errorCode":{"type":"string","example":""},"errorReason":{"type":"string","example":""}}}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"error":{}}}}}},"401":{"description":"401","content":{"application/json":{"examples":{"invalid token":{"value":"{\n    \"status\": 401,\n    \"error\": {\n        \"code\": \"invalid_parameters_in_headers\",\n        \"message\": \"Please use valid Public_access_token in headers\",\n        \"action\": \"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team\",\n        \"reason\": \"Invalid public_access_token in headers\"\n    },\n    \"metaData\": {\n        \"source\": \"API\",\n        \"entity\": \"Payment\"\n    },\n    \"data\": null\n}"}},"schema":{"type":"object","properties":{"status":{"type":"integer","example":401,"default":0},"error":{"type":"object","properties":{"code":{"type":"string","example":"invalid_parameters_in_headers"},"message":{"type":"string","example":"Please use valid Public_access_token in headers"},"action":{"type":"string","example":"Please generate valid public access token via /v2/payments/auth/token APIs or contact to Brick sales team"},"reason":{"type":"string","example":"Invalid public_access_token in headers"}}},"metaData":{"type":"object","properties":{"source":{"type":"string","example":"API"},"entity":{"type":"string","example":"Payment"}}},"data":{}}}}}}},"deprecated":false,"security":[],"x-readme":{"code-samples":[{"language":"curl","code":"curl --location -g --request GET 'https://{{base url}}/v2/payments/gs/disbursements/transaction?referenceId={{referenceId}}' \\\n--header 'publicAccessToken: Bearer public-access-token'"}],"samples-languages":["curl"]}}}},"x-readme":{"headers":[{"key":"publicAccessToken","value":"Bearer {{publicAccessToken}}"}],"explorer-enabled":true,"proxy-enabled":true},"x-readme-fauxas":true}